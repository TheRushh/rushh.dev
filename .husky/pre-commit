# Run TypeScript compilation check
echo "ğŸ” Running TypeScript check..."
npx tsc --noEmit || {
  echo "âŒ TypeScript compilation failed"
  exit 1
}

# Run lint-staged (prettier, eslint, related tests)
echo "ğŸ” Running lint-staged..."
npx lint-staged || {
  echo "âŒ Lint-staged checks failed"
  exit 1
}

# Run full test suite with coverage
echo "ğŸ” Running tests with coverage..."
npm run test:coverage || {
  echo "âŒ Tests or coverage threshold failed"
  exit 1
}

echo "âœ… All pre-commit checks passed!"
